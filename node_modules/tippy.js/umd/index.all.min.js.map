{"version":3,"file":"index.all.min.js","sources":["../src/browser.ts","../src/props.ts","../src/selectors.ts","../src/ponyfills.ts","../src/constants.ts","../src/reference.ts","../src/utils.ts","../src/popper.ts","../src/bindGlobalEventListeners.ts","../src/createTippy.ts","../src/index.ts","../src/group.ts","../src/css.ts","../build/all.js"],"sourcesContent":["export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined'\n\nconst ua = isBrowser ? navigator.userAgent : ''\n\nexport const isIE = /MSIE |Trident\\//.test(ua)\nexport const isUCBrowser = /UCBrowser\\//.test(ua)\nexport const isIOS =\n  isBrowser &&\n  /iPhone|iPad|iPod/.test(navigator.platform) &&\n  !(window as any).MSStream\n","import { Props } from './types'\n\nexport const defaultProps: Props = {\n  a11y: true,\n  allowHTML: true,\n  animateFill: true,\n  animation: 'shift-away',\n  appendTo: () => document.body,\n  aria: 'describedby',\n  arrow: false,\n  arrowType: 'sharp',\n  boundary: 'scrollParent',\n  content: '',\n  delay: 0,\n  distance: 10,\n  duration: [325, 275],\n  flip: true,\n  flipBehavior: 'flip',\n  flipOnUpdate: false,\n  followCursor: false,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  inertia: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  lazy: true,\n  maxWidth: 350,\n  multiple: false,\n  offset: 0,\n  onHidden() {},\n  onHide() {},\n  onMount() {},\n  onShow() {},\n  onShown() {},\n  placement: 'top',\n  popperOptions: {},\n  role: 'tooltip',\n  showOnInit: false,\n  size: 'regular',\n  sticky: false,\n  target: '',\n  theme: 'dark',\n  touch: true,\n  touchHold: false,\n  trigger: 'mouseenter focus',\n  updateDuration: 0,\n  wait: null,\n  zIndex: 9999,\n}\n\n/**\n * If the set() method encounters one of these, the popperInstance must be\n * recreated\n */\nexport const POPPER_INSTANCE_DEPENDENCIES = [\n  'arrow',\n  'arrowType',\n  'boundary',\n  'distance',\n  'flip',\n  'flipBehavior',\n  'flipOnUpdate',\n  'offset',\n  'placement',\n  'popperOptions',\n]\n","export default {\n  POPPER: '.tippy-popper',\n  TOOLTIP: '.tippy-tooltip',\n  CONTENT: '.tippy-content',\n  BACKDROP: '.tippy-backdrop',\n  ARROW: '.tippy-arrow',\n  ROUND_ARROW: '.tippy-roundarrow',\n}\n","import { isBrowser } from './browser'\n\nconst elementProto: Record<string, any> = isBrowser ? Element.prototype : {}\n\nexport const matches =\n  elementProto.matches ||\n  elementProto.matchesSelector ||\n  elementProto.webkitMatchesSelector ||\n  elementProto.mozMatchesSelector ||\n  elementProto.msMatchesSelector\n\n/**\n * Ponyfill for Array.from - converts iterable values to an array\n */\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value)\n}\n\n/**\n * Ponyfill for Element.prototype.closest\n */\nexport function closest(element: Element, parentSelector: string): Element {\n  return (\n    elementProto.closest ||\n    function(selector: string) {\n      // @ts-ignore\n      let el = this\n      while (el) {\n        if (matches.call(el, selector)) {\n          return el\n        }\n        el = el.parentElement\n      }\n    }\n  ).call(element, parentSelector)\n}\n\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nexport function closestCallback(\n  element: Element | null,\n  callback: Function,\n): Element | undefined {\n  while (element) {\n    if (callback(element)) {\n      return element\n    }\n    element = element.parentElement\n  }\n}\n","export const PASSIVE = { passive: true }\nexport const PADDING = 4\n","import { Props, VirtualReference, ReferenceElement } from './types'\nimport { defaultProps } from './props'\n\nconst keys = Object.keys(defaultProps)\n\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nexport function getDataAttributeOptions(reference: ReferenceElement): Props {\n  return keys.reduce((acc: any, key) => {\n    const valueAsString = (\n      reference.getAttribute(`data-tippy-${key}`) || ''\n    ).trim()\n\n    if (!valueAsString) {\n      return acc\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString)\n      } catch (e) {\n        acc[key] = valueAsString\n      }\n    }\n\n    return acc\n  }, {})\n}\n\n/**\n * Polyfills the virtual reference (plain object) with Element.prototype props\n * Mutating because DOM elements are mutated, adds `_tippy` property\n */\nexport function polyfillElementPrototypeProperties(\n  virtualReference: VirtualReference & Record<string, any>,\n): void {\n  const polyfills: Record<string, any> = {\n    isVirtual: true,\n    attributes: virtualReference.attributes || {},\n    setAttribute(key: string, value: any) {\n      virtualReference.attributes[key] = value\n    },\n    getAttribute(key: string) {\n      return virtualReference.attributes[key]\n    },\n    removeAttribute(key: string) {\n      delete virtualReference.attributes[key]\n    },\n    hasAttribute(key: string) {\n      return key in virtualReference.attributes\n    },\n    addEventListener() {},\n    removeEventListener() {},\n    classList: {\n      classNames: {},\n      add(key: string) {\n        virtualReference.classList.classNames[key] = true\n      },\n      remove(key: string) {\n        delete virtualReference.classList.classNames[key]\n      },\n      contains(key: string) {\n        return key in virtualReference.classList.classNames\n      },\n    },\n  }\n\n  for (const key in polyfills) {\n    virtualReference[key] = polyfills[key]\n  }\n}\n","import {\n  Options,\n  Props,\n  ReferenceElement,\n  Targets,\n  VirtualReference,\n} from './types'\nimport { arrayFrom, matches } from './ponyfills'\nimport { isUCBrowser } from './browser'\nimport { getDataAttributeOptions } from './reference'\n\n/**\n * Determines if a value is a \"bare\" virtual element (before mutations done\n * by `polyfillElementPrototypeProperties()`). JSDOM elements show up as\n * [object Object], we can check if the value is \"element-like\" if it has\n * `addEventListener`\n */\nexport function isBareVirtualElement(value: any): boolean {\n  return (\n    {}.toString.call(value) === '[object Object]' && !value.addEventListener\n  )\n}\n\n/**\n * Safe .hasOwnProperty check, for prototype-less objects\n */\nexport function hasOwnProperty(obj: object, key: string): boolean {\n  return {}.hasOwnProperty.call(obj, key)\n}\n\n/**\n * Returns an array of elements based on the value\n */\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isSingular(value)) {\n    // TODO: VirtualReference is not compatible to type Element\n    return [value as Element]\n  }\n\n  if (value instanceof NodeList) {\n    return arrayFrom(value)\n  }\n\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  try {\n    return arrayFrom(document.querySelectorAll(value))\n  } catch (e) {\n    return []\n  }\n}\n\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nexport function getValue(value: any, index: number, defaultValue: any): any {\n  if (Array.isArray(value)) {\n    const v = value[index]\n    return v == null ? defaultValue : v\n  }\n  return value\n}\n\n/**\n * Debounce utility\n */\nexport function debounce(fn: Function, ms: number): () => void {\n  let timeoutId: number\n  return function() {\n    clearTimeout(timeoutId)\n    // @ts-ignore\n    timeoutId = setTimeout(() => fn.apply(this, arguments), ms)\n  }\n}\n\n/**\n * Prevents errors from being thrown while accessing nested modifier objects\n * in `popperOptions`\n */\nexport function getModifier(obj: any, key: string): any {\n  return obj && obj.modifiers && obj.modifiers[key]\n}\n\n/**\n * Determines if an array or string includes a value\n */\nexport function includes(a: any[] | string, b: any): boolean {\n  return a.indexOf(b) > -1\n}\n\n/**\n * Determines if the value is singular-like\n */\nexport function isSingular(value: any): value is VirtualReference | Element {\n  return (\n    !!(value && hasOwnProperty(value, 'isVirtual')) || value instanceof Element\n  )\n}\n\n/**\n * Firefox extensions don't allow setting .innerHTML directly, this will trick it\n */\nexport function innerHTML(): 'innerHTML' {\n  return 'innerHTML'\n}\n\n/**\n * Evaluates a function if one, or returns the value\n */\nexport function evaluateValue(value: any, args: any[]): any {\n  return typeof value === 'function' ? value.apply(null, args) : value\n}\n\n/**\n * Sets a popperInstance `flip` modifier's enabled state\n */\nexport function setFlipModifierEnabled(modifiers: any[], value: any): void {\n  modifiers.filter(m => m.name === 'flip')[0].enabled = value\n}\n\n/**\n * Determines if an element can receive focus\n * Always returns true for virtual objects\n */\nexport function canReceiveFocus(element: Element): boolean {\n  return element instanceof Element\n    ? matches.call(\n        element,\n        'a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]',\n      ) && !element.hasAttribute('disabled')\n    : true\n}\n\n/**\n * Returns a new `div` element\n */\nexport function div(): HTMLDivElement {\n  return document.createElement('div')\n}\n\n/**\n * Evaluates the props object by merging data attributes and\n * disabling conflicting options where necessary\n */\nexport function evaluateProps(\n  reference: ReferenceElement,\n  props: Props,\n): Props {\n  const out = {\n    ...props,\n    content: evaluateValue(props.content, [reference]),\n    ...(props.ignoreAttributes ? {} : getDataAttributeOptions(reference)),\n  }\n\n  if (out.arrow || isUCBrowser) {\n    out.animateFill = false\n  }\n\n  return out\n}\n\n/**\n * Validates an object of options with the valid default props object\n */\nexport function validateOptions(options: Options, defaultProps: Props): void {\n  Object.keys(options).forEach(option => {\n    if (!hasOwnProperty(defaultProps, option)) {\n      throw new Error(`[tippy]: \\`${option}\\` is not a valid option`)\n    }\n  })\n}\n","import Popper from 'popper.js'\nimport Selectors from './selectors'\nimport {\n  PopperElement,\n  Props,\n  PopperChildren,\n  HideAllOptions,\n  BasicPlacement,\n  PopperInstance,\n} from './types'\nimport { arrayFrom } from './ponyfills'\nimport { innerHTML, div } from './utils'\nimport { isUCBrowser } from './browser'\n\n/**\n * Sets the innerHTML of an element\n */\nexport function setInnerHTML(element: Element, html: string | Element): void {\n  element[innerHTML()] = html instanceof Element ? html[innerHTML()] : html\n}\n\n/**\n * Sets the content of a tooltip\n */\nexport function setContent(\n  contentEl: PopperChildren['content'],\n  props: Props,\n): void {\n  if (props.content instanceof Element) {\n    setInnerHTML(contentEl, '')\n    contentEl.appendChild(props.content)\n  } else if (typeof props.content !== 'function') {\n    const key: 'innerHTML' | 'textContent' = props.allowHTML\n      ? 'innerHTML'\n      : 'textContent'\n    contentEl[key] = props.content\n  }\n}\n\n/**\n * Returns the child elements of a popper element\n */\nexport function getChildren(popper: PopperElement): PopperChildren {\n  return {\n    tooltip: popper.querySelector(Selectors.TOOLTIP) as HTMLDivElement,\n    backdrop: popper.querySelector(Selectors.BACKDROP),\n    content: popper.querySelector(Selectors.CONTENT) as HTMLDivElement,\n    arrow:\n      popper.querySelector(Selectors.ARROW) ||\n      popper.querySelector(Selectors.ROUND_ARROW),\n  }\n}\n\n/**\n * Adds `data-inertia` attribute\n */\nexport function addInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-inertia', '')\n}\n\n/**\n * Removes `data-inertia` attribute\n */\nexport function removeInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-inertia')\n}\n\n/**\n * Creates an arrow element and returns it\n */\nexport function createArrowElement(\n  arrowType: Props['arrowType'],\n): HTMLDivElement {\n  const arrow = div()\n  if (arrowType === 'round') {\n    arrow.className = 'tippy-roundarrow'\n    setInnerHTML(\n      arrow,\n      '<svg viewBox=\"0 0 18 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z\"/></svg>',\n    )\n  } else {\n    arrow.className = 'tippy-arrow'\n  }\n  return arrow\n}\n\n/**\n * Creates a backdrop element and returns it\n */\nexport function createBackdropElement(): HTMLDivElement {\n  const backdrop = div()\n  backdrop.className = 'tippy-backdrop'\n  backdrop.setAttribute('data-state', 'hidden')\n  return backdrop\n}\n\n/**\n * Adds interactive-related attributes\n */\nexport function addInteractive(\n  popper: PopperElement,\n  tooltip: PopperChildren['tooltip'],\n): void {\n  popper.setAttribute('tabindex', '-1')\n  tooltip.setAttribute('data-interactive', '')\n}\n\n/**\n * Removes interactive-related attributes\n */\nexport function removeInteractive(\n  popper: PopperElement,\n  tooltip: PopperChildren['tooltip'],\n): void {\n  popper.removeAttribute('tabindex')\n  tooltip.removeAttribute('data-interactive')\n}\n\n/**\n * Applies a transition duration to a list of elements\n */\nexport function applyTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number,\n): void {\n  els.forEach(el => {\n    if (el) {\n      el.style.transitionDuration = `${value}ms`\n    }\n  })\n}\n\n/**\n * Add/remove transitionend listener from tooltip\n */\nexport function toggleTransitionEndListener(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void,\n): void {\n  // UC Browser hasn't adopted the `transitionend` event despite supporting\n  // unprefixed transitions...\n  const eventName =\n    isUCBrowser && document.body.style.webkitTransition !== undefined\n      ? 'webkitTransitionEnd'\n      : 'transitionend'\n  tooltip[\n    (action + 'EventListener') as 'addEventListener' | 'removeEventListener'\n  ](eventName, listener as EventListener)\n}\n\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nexport function getPopperPlacement(popper: PopperElement): BasicPlacement {\n  const fullPlacement = popper.getAttribute('x-placement')\n  return (fullPlacement ? fullPlacement.split('-')[0] : '') as BasicPlacement\n}\n\n/**\n * Sets the visibility state to elements so they can begin to transition\n */\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden',\n): void {\n  els.forEach(el => {\n    if (el) {\n      el.setAttribute('data-state', state)\n    }\n  })\n}\n\n/**\n * Triggers reflow\n */\nexport function reflow(popper: PopperElement): void {\n  void popper.offsetHeight\n}\n\n/**\n * Adds/removes theme from tooltip's classList\n */\nexport function toggleTheme(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  theme: Props['theme'],\n): void {\n  theme.split(' ').forEach(themeName => {\n    tooltip.classList[action](themeName + '-theme')\n  })\n}\n\n/**\n * Constructs the popper element and returns it\n */\nexport function createPopperElement(id: number, props: Props): PopperElement {\n  const popper = div()\n  popper.className = 'tippy-popper'\n  popper.id = `tippy-${id}`\n  popper.style.zIndex = '' + props.zIndex\n  if (props.role) {\n    popper.setAttribute('role', props.role)\n  }\n\n  const tooltip = div()\n  tooltip.className = 'tippy-tooltip'\n  tooltip.style.maxWidth =\n    props.maxWidth + (typeof props.maxWidth === 'number' ? 'px' : '')\n  tooltip.setAttribute('data-size', props.size)\n  tooltip.setAttribute('data-animation', props.animation)\n  tooltip.setAttribute('data-state', 'hidden')\n  toggleTheme(tooltip, 'add', props.theme)\n\n  const content = div()\n  content.className = 'tippy-content'\n  content.setAttribute('data-state', 'hidden')\n\n  if (props.interactive) {\n    addInteractive(popper, tooltip)\n  }\n\n  if (props.arrow) {\n    tooltip.appendChild(createArrowElement(props.arrowType))\n  }\n\n  if (props.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  }\n\n  if (props.inertia) {\n    addInertia(tooltip)\n  }\n\n  setContent(content, props)\n\n  tooltip.appendChild(content)\n  popper.appendChild(tooltip)\n\n  return popper\n}\n\n/**\n * Updates the popper element based on the new props\n */\nexport function updatePopperElement(\n  popper: PopperElement,\n  prevProps: Props,\n  nextProps: Props,\n): void {\n  const { tooltip, content, backdrop, arrow } = getChildren(popper)\n\n  popper.style.zIndex = '' + nextProps.zIndex\n  tooltip.setAttribute('data-size', nextProps.size)\n  tooltip.setAttribute('data-animation', nextProps.animation)\n  tooltip.style.maxWidth =\n    nextProps.maxWidth + (typeof nextProps.maxWidth === 'number' ? 'px' : '')\n  if (nextProps.role) {\n    popper.setAttribute('role', nextProps.role)\n  } else {\n    popper.removeAttribute('role')\n  }\n\n  if (prevProps.content !== nextProps.content) {\n    setContent(content, nextProps)\n  }\n\n  // animateFill\n  if (!prevProps.animateFill && nextProps.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  } else if (prevProps.animateFill && !nextProps.animateFill) {\n    tooltip.removeChild(backdrop!)\n    tooltip.removeAttribute('data-animatefill')\n  }\n\n  // arrow\n  if (!prevProps.arrow && nextProps.arrow) {\n    tooltip.appendChild(createArrowElement(nextProps.arrowType))\n  } else if (prevProps.arrow && !nextProps.arrow) {\n    tooltip.removeChild(arrow!)\n  }\n\n  // arrowType\n  if (\n    prevProps.arrow &&\n    nextProps.arrow &&\n    prevProps.arrowType !== nextProps.arrowType\n  ) {\n    tooltip.replaceChild(createArrowElement(nextProps.arrowType), arrow!)\n  }\n\n  // interactive\n  if (!prevProps.interactive && nextProps.interactive) {\n    addInteractive(popper, tooltip)\n  } else if (prevProps.interactive && !nextProps.interactive) {\n    removeInteractive(popper, tooltip)\n  }\n\n  // inertia\n  if (!prevProps.inertia && nextProps.inertia) {\n    addInertia(tooltip)\n  } else if (prevProps.inertia && !nextProps.inertia) {\n    removeInertia(tooltip)\n  }\n\n  // theme\n  if (prevProps.theme !== nextProps.theme) {\n    toggleTheme(tooltip, 'remove', prevProps.theme)\n    toggleTheme(tooltip, 'add', nextProps.theme)\n  }\n}\n\n/**\n * Runs the callback after the popper's position has been updated\n * update() is debounced with Promise.resolve() or setTimeout()\n * scheduleUpdate() is update() wrapped in requestAnimationFrame()\n */\nexport function afterPopperPositionUpdates(\n  popperInstance: PopperInstance,\n  callback: () => void,\n): void {\n  const { popper, options } = popperInstance\n  const { onCreate, onUpdate } = options\n\n  options.onCreate = options.onUpdate = (data: Popper.Data) => {\n    reflow(popper)\n    callback()\n\n    if (onUpdate) {\n      onUpdate(data)\n    }\n\n    options.onCreate = onCreate\n    options.onUpdate = onUpdate\n  }\n}\n\n/**\n * Hides all visible poppers on the document\n */\nexport function hideAll({\n  checkHideOnClick,\n  exclude,\n  duration,\n}: HideAllOptions = {}): void {\n  arrayFrom(document.querySelectorAll(Selectors.POPPER)).forEach(\n    (popper: PopperElement) => {\n      const instance = popper._tippy\n      if (\n        instance &&\n        (checkHideOnClick ? instance.props.hideOnClick === true : true) &&\n        (!exclude || popper !== exclude.popper)\n      ) {\n        instance.hide(duration)\n      }\n    },\n  )\n}\n\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nexport function isCursorOutsideInteractiveBorder(\n  popperPlacement: BasicPlacement,\n  popperRect: ClientRect,\n  event: MouseEvent,\n  props: Props,\n): boolean {\n  if (!popperPlacement) {\n    return true\n  }\n\n  const { clientX: x, clientY: y } = event\n  const { interactiveBorder, distance } = props\n\n  const exceedsTop =\n    popperRect.top - y >\n    (popperPlacement === 'top'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsBottom =\n    y - popperRect.bottom >\n    (popperPlacement === 'bottom'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsLeft =\n    popperRect.left - x >\n    (popperPlacement === 'left'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsRight =\n    x - popperRect.right >\n    (popperPlacement === 'right'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight\n}\n\n/**\n * Returns the distance offset, taking into account the default offset due to\n * the transform: translate() rule (10px) in CSS\n */\nexport function getOffsetDistanceInPx(distance: number): string {\n  return -(distance - 10) + 'px'\n}\n","import Selectors from './selectors'\nimport { ReferenceElement } from './types'\nimport { closest, closestCallback } from './ponyfills'\nimport { isIOS } from './browser'\nimport { hideAll } from './popper'\nimport { includes } from './utils'\nimport { PASSIVE } from './constants'\n\nexport let isUsingTouch = false\n\nexport function onDocumentTouch(): void {\n  if (isUsingTouch) {\n    return\n  }\n\n  isUsingTouch = true\n\n  if (isIOS) {\n    document.body.classList.add('tippy-iOS')\n  }\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove)\n  }\n}\n\nlet lastMouseMoveTime = 0\nexport function onDocumentMouseMove(): void {\n  const now = performance.now()\n\n  // Chrome 60+ is 1 mousemove per animation frame, use 20ms time difference\n  if (now - lastMouseMoveTime < 20) {\n    isUsingTouch = false\n    document.removeEventListener('mousemove', onDocumentMouseMove)\n    if (!isIOS) {\n      document.body.classList.remove('tippy-iOS')\n    }\n  }\n\n  lastMouseMoveTime = now\n}\n\nexport function onDocumentClick(event: MouseEvent): void {\n  // Simulated events dispatched on the document\n  if (!(event.target instanceof Element)) {\n    return hideAll()\n  }\n\n  // Clicked on an interactive popper\n  const popper: ReferenceElement = closest(event.target, Selectors.POPPER)\n  if (popper && popper._tippy && popper._tippy.props.interactive) {\n    return\n  }\n\n  // Clicked on a reference\n  const reference: ReferenceElement | undefined = closestCallback(\n    event.target,\n    (el: ReferenceElement) => el._tippy && el._tippy.reference === el,\n  )\n  if (reference) {\n    const instance = reference._tippy\n\n    if (instance) {\n      const isClickTrigger = includes(instance.props.trigger || '', 'click')\n\n      if (isUsingTouch || isClickTrigger) {\n        return hideAll({ exclude: instance, checkHideOnClick: true })\n      }\n\n      if (instance.props.hideOnClick !== true || isClickTrigger) {\n        return\n      }\n\n      instance.clearDelayTimeouts()\n    }\n  }\n\n  hideAll({ checkHideOnClick: true })\n}\n\nexport function onWindowBlur(): void {\n  const { activeElement }: { activeElement: any } = document\n  if (activeElement && activeElement.blur && activeElement._tippy) {\n    activeElement.blur()\n  }\n}\n\n/**\n * Adds the needed global event listeners\n */\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('click', onDocumentClick, true)\n  document.addEventListener('touchstart', onDocumentTouch, PASSIVE)\n  window.addEventListener('blur', onWindowBlur)\n}\n","import Popper from 'popper.js'\nimport Selectors from './selectors'\nimport {\n  ReferenceElement,\n  PopperInstance,\n  Props,\n  Options,\n  Instance,\n  Content,\n  Listener,\n} from './types'\nimport { isIE } from './browser'\nimport { closest, closestCallback, arrayFrom } from './ponyfills'\nimport { PASSIVE, PADDING } from './constants'\nimport { isUsingTouch } from './bindGlobalEventListeners'\nimport { defaultProps, POPPER_INSTANCE_DEPENDENCIES } from './props'\nimport {\n  createPopperElement,\n  updatePopperElement,\n  afterPopperPositionUpdates,\n  getChildren,\n  getPopperPlacement,\n  applyTransitionDuration,\n  toggleTransitionEndListener,\n  setVisibilityState,\n  isCursorOutsideInteractiveBorder,\n  getOffsetDistanceInPx,\n} from './popper'\nimport {\n  hasOwnProperty,\n  debounce,\n  getValue,\n  getModifier,\n  includes,\n  evaluateValue,\n  setFlipModifierEnabled,\n  canReceiveFocus,\n  validateOptions,\n  evaluateProps,\n} from './utils'\n\nlet idCounter = 1\n\n/**\n * Creates and returns a Tippy object. We're using a closure pattern instead of\n * a class so that the exposed object API is clean without private members\n * prefixed with `_`.\n */\nexport default function createTippy(\n  reference: ReferenceElement,\n  collectionProps: Props,\n): Instance | null {\n  const props = evaluateProps(reference, collectionProps)\n\n  // If the reference shouldn't have multiple tippys, return null early\n  if (!props.multiple && reference._tippy) {\n    return null\n  }\n\n  /* ======================= 🔒 Private members 🔒 ======================= */\n  // The last trigger event type that caused the tippy to show\n  let lastTriggerEventType: string\n\n  // The last mousemove event object created by the document mousemove event\n  let lastMouseMoveEvent: MouseEvent\n\n  // Timeout created by the show delay\n  let showTimeoutId: number\n\n  // Timeout created by the hide delay\n  let hideTimeoutId: number\n\n  // Frame created by scheduleHide()\n  let animationFrameId: number\n\n  // Flag to determine if the tippy is scheduled to show due to the show timeout\n  let isScheduledToShow = false\n\n  // The current `transitionend` callback reference\n  let transitionEndListener: (event: TransitionEvent) => void\n\n  // Array of event listeners currently attached to the reference element\n  let listeners: Listener[] = []\n\n  // Private onMouseMove handler reference, debounced or not\n  let debouncedOnMouseMove =\n    props.interactiveDebounce > 0\n      ? debounce(onMouseMove, props.interactiveDebounce)\n      : onMouseMove\n\n  // Node the tippy is currently appended to\n  let parentNode: Element\n\n  /* ======================= 🔑 Public members 🔑 ======================= */\n  // id used for the `aria-describedby` / `aria-labelledby` attribute\n  const id = idCounter++\n\n  // Popper element reference\n  const popper = createPopperElement(id, props)\n\n  // Popper element children: { arrow, backdrop, content, tooltip }\n  const popperChildren = getChildren(popper)\n\n  const state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  }\n\n  // Popper.js instance for the tippy is lazily created\n  const popperInstance: PopperInstance | null = null\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper,\n    popperChildren,\n    popperInstance,\n    props,\n    state,\n    // methods\n    clearDelayTimeouts,\n    set,\n    setContent,\n    show,\n    hide,\n    enable,\n    disable,\n    destroy,\n  }\n\n  addTriggersToReference()\n\n  if (!props.lazy) {\n    createPopperInstance()\n    instance.popperInstance!.disableEventListeners()\n  }\n\n  if (props.showOnInit) {\n    scheduleShow()\n  }\n\n  // Ensure the reference element can receive focus (and is not a delegate)\n  if (props.a11y && !props.target && !canReceiveFocus(reference)) {\n    reference.setAttribute('tabindex', '0')\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener('mouseenter', (event: MouseEvent) => {\n    if (\n      instance.props.interactive &&\n      instance.state.isVisible &&\n      lastTriggerEventType === 'mouseenter'\n    ) {\n      scheduleShow(event)\n    }\n  })\n  popper.addEventListener('mouseleave', () => {\n    if (instance.props.interactive && lastTriggerEventType === 'mouseenter') {\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n    }\n  })\n\n  // Install shortcuts\n  reference._tippy = instance\n  popper._tippy = instance\n\n  return instance\n\n  /* ======================= 🔒 Private methods 🔒 ======================= */\n  /**\n   * Positions the virtual reference near the cursor\n   */\n  function positionVirtualReferenceNearCursor(event: MouseEvent): void {\n    const { clientX, clientY } = (lastMouseMoveEvent = event)\n\n    if (!instance.popperInstance) {\n      return\n    }\n\n    // Ensure virtual reference is padded to prevent tooltip from\n    // overflowing. Maybe Popper.js issue?\n    const placement = getPopperPlacement(instance.popper)\n    const padding = instance.props.arrow\n      ? PADDING + (instance.props.arrowType === 'round' ? 18 : 16)\n      : PADDING\n    const isVerticalPlacement = includes(['top', 'bottom'], placement)\n    const isHorizontalPlacement = includes(['left', 'right'], placement)\n\n    // Top / left boundary\n    let x = isVerticalPlacement ? Math.max(padding, clientX) : clientX\n    let y = isHorizontalPlacement ? Math.max(padding, clientY) : clientY\n\n    // Bottom / right boundary\n    if (isVerticalPlacement && x > padding) {\n      x = Math.min(clientX, window.innerWidth - padding)\n    }\n    if (isHorizontalPlacement && y > padding) {\n      y = Math.min(clientY, window.innerHeight - padding)\n    }\n\n    const rect = instance.reference.getBoundingClientRect()\n    const { followCursor } = instance.props\n    const isHorizontal = followCursor === 'horizontal'\n    const isVertical = followCursor === 'vertical'\n\n    instance.popperInstance.reference = {\n      ...instance.popperInstance.reference,\n      getBoundingClientRect: () => ({\n        width: 0,\n        height: 0,\n        top: isHorizontal ? rect.top : y,\n        bottom: isHorizontal ? rect.bottom : y,\n        left: isVertical ? rect.left : x,\n        right: isVertical ? rect.right : x,\n      }),\n      clientWidth: 0,\n      clientHeight: 0,\n    }\n\n    instance.popperInstance.scheduleUpdate()\n\n    if (followCursor === 'initial' && instance.state.isVisible) {\n      removeFollowCursorListener()\n    }\n  }\n\n  /**\n   * Creates the tippy instance for a delegate when it's been triggered\n   */\n  function createDelegateChildTippy(event?: Event): void {\n    if (event) {\n      const targetEl: ReferenceElement = closest(\n        event.target as Element,\n        instance.props.target,\n      )\n      if (targetEl && !targetEl._tippy) {\n        createTippy(targetEl, {\n          ...instance.props,\n          content: evaluateValue(collectionProps.content, [targetEl]),\n          appendTo: collectionProps.appendTo,\n          target: '',\n          showOnInit: true,\n        })\n        scheduleShow(event)\n      }\n    }\n  }\n\n  /**\n   * Setup before show() is invoked (delays, etc.)\n   */\n  function scheduleShow(event?: Event): void {\n    clearDelayTimeouts()\n\n    if (instance.state.isVisible) {\n      return\n    }\n\n    // Is a delegate, create an instance for the child target\n    if (instance.props.target) {\n      return createDelegateChildTippy(event)\n    }\n\n    isScheduledToShow = true\n\n    if (instance.props.wait) {\n      return instance.props.wait(instance, event)\n    }\n\n    // If the tooltip has a delay, we need to be listening to the mousemove as\n    // soon as the trigger event is fired, so that it's in the correct position\n    // upon mount.\n    // Edge case: if the tooltip is still mounted, but then scheduleShow() is\n    // called, it causes a jump.\n    if (hasFollowCursorBehavior() && !instance.state.isMounted) {\n      document.addEventListener('mousemove', positionVirtualReferenceNearCursor)\n    }\n\n    const delay = getValue(instance.props.delay, 0, defaultProps.delay)\n\n    if (delay) {\n      showTimeoutId = setTimeout(() => {\n        show()\n      }, delay)\n    } else {\n      show()\n    }\n  }\n\n  /**\n   * Setup before hide() is invoked (delays, etc.)\n   */\n  function scheduleHide(): void {\n    clearDelayTimeouts()\n\n    if (!instance.state.isVisible) {\n      return removeFollowCursorListener()\n    }\n\n    isScheduledToShow = false\n\n    const delay = getValue(instance.props.delay, 1, defaultProps.delay)\n\n    if (delay) {\n      hideTimeoutId = setTimeout(() => {\n        if (instance.state.isVisible) {\n          hide()\n        }\n      }, delay)\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      animationFrameId = requestAnimationFrame(() => {\n        hide()\n      })\n    }\n  }\n\n  /**\n   * Removes the follow cursor listener\n   */\n  function removeFollowCursorListener(): void {\n    document.removeEventListener(\n      'mousemove',\n      positionVirtualReferenceNearCursor,\n    )\n  }\n\n  /**\n   * Cleans up old listeners\n   */\n  function cleanupOldMouseListeners(): void {\n    document.body.removeEventListener('mouseleave', scheduleHide)\n    document.removeEventListener('mousemove', debouncedOnMouseMove)\n  }\n\n  /**\n   * Event listener invoked upon trigger\n   */\n  function onTrigger(event: Event): void {\n    if (!instance.state.isEnabled || isEventListenerStopped(event)) {\n      return\n    }\n\n    if (!instance.state.isVisible) {\n      lastTriggerEventType = event.type\n\n      if (event instanceof MouseEvent) {\n        lastMouseMoveEvent = event\n      }\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      scheduleHide()\n    } else {\n      scheduleShow(event)\n    }\n  }\n\n  /**\n   * Event listener used for interactive tooltips to detect when they should\n   * hide\n   */\n  function onMouseMove(event: MouseEvent): void {\n    const referenceTheCursorIsOver = closestCallback(\n      event.target as Element,\n      (el: ReferenceElement) => el._tippy,\n    )\n\n    const isCursorOverPopper =\n      closest(event.target as Element, Selectors.POPPER) === instance.popper\n    const isCursorOverReference =\n      referenceTheCursorIsOver === instance.reference\n\n    if (isCursorOverPopper || isCursorOverReference) {\n      return\n    }\n\n    if (\n      isCursorOutsideInteractiveBorder(\n        getPopperPlacement(instance.popper),\n        instance.popper.getBoundingClientRect(),\n        event,\n        instance.props,\n      )\n    ) {\n      cleanupOldMouseListeners()\n      scheduleHide()\n    }\n  }\n\n  /**\n   * Event listener invoked upon mouseleave\n   */\n  function onMouseLeave(event: MouseEvent): void {\n    if (isEventListenerStopped(event)) {\n      return\n    }\n\n    if (instance.props.interactive) {\n      document.body.addEventListener('mouseleave', scheduleHide)\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n      return\n    }\n\n    scheduleHide()\n  }\n\n  /**\n   * Event listener invoked upon blur\n   */\n  function onBlur(event: FocusEvent): void {\n    if (event.target !== instance.reference) {\n      return\n    }\n\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      instance.popper.contains(event.relatedTarget as Element)\n    ) {\n      return\n    }\n\n    scheduleHide()\n  }\n\n  /**\n   * Event listener invoked when a child target is triggered\n   */\n  function onDelegateShow(event: Event): void {\n    if (closest(event.target as Element, instance.props.target)) {\n      scheduleShow(event)\n    }\n  }\n\n  /**\n   * Event listener invoked when a child target should hide\n   */\n  function onDelegateHide(event: Event): void {\n    if (closest(event.target as Element, instance.props.target)) {\n      scheduleHide()\n    }\n  }\n\n  /**\n   * Determines if an event listener should stop further execution due to the\n   * `touchHold` option\n   */\n  function isEventListenerStopped(event: Event): boolean {\n    const supportsTouch = 'ontouchstart' in window\n    const isTouchEvent = includes(event.type, 'touch')\n    const { touchHold } = instance.props\n    return (\n      (supportsTouch && isUsingTouch && touchHold && !isTouchEvent) ||\n      (isUsingTouch && !touchHold && isTouchEvent)\n    )\n  }\n\n  /**\n   * Creates the popper instance for the instance\n   */\n  function createPopperInstance(): void {\n    const { popperOptions } = instance.props\n    const { tooltip, arrow } = instance.popperChildren\n    const preventOverflowModifier = getModifier(\n      popperOptions,\n      'preventOverflow',\n    )\n\n    function applyMutations(data: Popper.Data): void {\n      if (instance.props.flip && !instance.props.flipOnUpdate) {\n        if (data.flipped) {\n          instance.popperInstance!.options.placement = data.placement\n        }\n        setFlipModifierEnabled(instance.popperInstance!.modifiers, false)\n      }\n\n      tooltip.setAttribute('x-placement', data.placement)\n\n      const basePlacement = getPopperPlacement(instance.popper)\n      const styles = tooltip.style\n\n      // Account for the `distance` offset\n      styles.top = styles.bottom = styles.left = styles.right = ''\n      styles[basePlacement] = getOffsetDistanceInPx(instance.props.distance)\n\n      const padding =\n        preventOverflowModifier && preventOverflowModifier.padding !== undefined\n          ? preventOverflowModifier.padding\n          : PADDING\n\n      const isPaddingNumber = typeof padding === 'number'\n\n      const computedPadding = {\n        top: isPaddingNumber ? padding : padding.top,\n        bottom: isPaddingNumber ? padding : padding.bottom,\n        left: isPaddingNumber ? padding : padding.left,\n        right: isPaddingNumber ? padding : padding.right,\n        ...(!isPaddingNumber && padding),\n      }\n\n      computedPadding[basePlacement] = isPaddingNumber\n        ? padding + instance.props.distance\n        : (padding[basePlacement] || 0) + instance.props.distance\n\n      instance.popperInstance!.modifiers.filter(\n        m => m.name === 'preventOverflow',\n      )[0].padding = computedPadding\n    }\n\n    const config = {\n      placement: instance.props.placement,\n      ...popperOptions,\n      modifiers: {\n        ...(popperOptions ? popperOptions.modifiers : {}),\n        preventOverflow: {\n          boundariesElement: instance.props.boundary,\n          padding: PADDING,\n          ...preventOverflowModifier,\n        },\n        arrow: {\n          element: arrow,\n          enabled: !!arrow,\n          ...getModifier(popperOptions, 'arrow'),\n        },\n        flip: {\n          enabled: instance.props.flip,\n          // The tooltip is offset by 10px from the popper in CSS,\n          // we need to account for its distance\n          padding: instance.props.distance + PADDING,\n          behavior: instance.props.flipBehavior,\n          ...getModifier(popperOptions, 'flip'),\n        },\n        offset: {\n          offset: instance.props.offset,\n          ...getModifier(popperOptions, 'offset'),\n        },\n      },\n      // This gets invoked when calling `.set()` and updating a popper\n      // instance dependency, since a new popper instance gets created\n      onCreate(data: Popper.Data) {\n        applyMutations(data)\n\n        if (popperOptions && popperOptions.onCreate) {\n          popperOptions.onCreate(data)\n        }\n      },\n      // This gets invoked on initial create and show()/scroll/resize update.\n      // This is due to `afterPopperPositionUpdates` overwriting onCreate()\n      // with onUpdate()\n      onUpdate(data: Popper.Data) {\n        applyMutations(data)\n\n        if (popperOptions && popperOptions.onUpdate) {\n          popperOptions.onUpdate(data)\n        }\n      },\n    }\n\n    instance.popperInstance = new Popper(\n      instance.reference,\n      instance.popper,\n      config,\n    ) as PopperInstance\n  }\n\n  /**\n   * Mounts the tooltip to the DOM, callback to show tooltip is run **after**\n   * popper's position has updated\n   */\n  function mount(callback: () => void): void {\n    const shouldEnableListeners =\n      !hasFollowCursorBehavior() &&\n      !(instance.props.followCursor === 'initial' && isUsingTouch)\n\n    if (!instance.popperInstance) {\n      createPopperInstance()\n      if (!shouldEnableListeners) {\n        instance.popperInstance!.disableEventListeners()\n      }\n    } else {\n      if (!hasFollowCursorBehavior()) {\n        instance.popperInstance.scheduleUpdate()\n        if (shouldEnableListeners) {\n          instance.popperInstance.enableEventListeners()\n        }\n      }\n      setFlipModifierEnabled(\n        instance.popperInstance.modifiers,\n        instance.props.flip,\n      )\n    }\n\n    // If the instance previously had followCursor behavior, it will be\n    // positioned incorrectly if triggered by `focus` afterwards.\n    // Update the reference back to the real DOM element\n    instance.popperInstance!.reference = instance.reference\n    const { arrow } = instance.popperChildren\n\n    if (hasFollowCursorBehavior()) {\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n      if (lastMouseMoveEvent) {\n        positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      }\n    } else if (arrow) {\n      arrow.style.margin = ''\n    }\n\n    // Allow followCursor: 'initial' on touch devices\n    if (\n      isUsingTouch &&\n      lastMouseMoveEvent &&\n      instance.props.followCursor === 'initial'\n    ) {\n      positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n    }\n\n    afterPopperPositionUpdates(instance.popperInstance!, callback)\n\n    const { appendTo } = instance.props\n\n    parentNode =\n      appendTo === 'parent'\n        ? instance.reference.parentNode\n        : evaluateValue(appendTo, [instance.reference])\n\n    if (!parentNode.contains(instance.popper)) {\n      parentNode.appendChild(instance.popper)\n      instance.props.onMount(instance)\n      instance.state.isMounted = true\n    }\n  }\n\n  /**\n   * Determines if the instance is in `followCursor` mode\n   */\n  function hasFollowCursorBehavior(): boolean {\n    return (\n      instance.props.followCursor &&\n      !isUsingTouch &&\n      lastTriggerEventType !== 'focus'\n    )\n  }\n\n  /**\n   * Updates the tooltip's position on each animation frame\n   */\n  function makeSticky(): void {\n    applyTransitionDuration(\n      [instance.popper],\n      isIE ? 0 : instance.props.updateDuration,\n    )\n\n    function updatePosition(): void {\n      if (instance.popperInstance) {\n        instance.popperInstance.scheduleUpdate()\n      }\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition)\n      } else {\n        applyTransitionDuration([instance.popper], 0)\n      }\n    }\n\n    updatePosition()\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned out\n   */\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, () => {\n      if (\n        !instance.state.isVisible &&\n        parentNode &&\n        parentNode.contains(instance.popper)\n      ) {\n        callback()\n      }\n    })\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned in\n   */\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback)\n  }\n\n  /**\n   * Invokes a callback once the tooltip's CSS transition ends\n   */\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    const { tooltip } = instance.popperChildren\n\n    /**\n     * Listener added as the `transitionend` handler\n     */\n    function listener(event: TransitionEvent): void {\n      if (event.target === tooltip) {\n        toggleTransitionEndListener(tooltip, 'remove', listener)\n        callback()\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback()\n    }\n\n    toggleTransitionEndListener(tooltip, 'remove', transitionEndListener)\n    toggleTransitionEndListener(tooltip, 'add', listener)\n\n    transitionEndListener = listener\n  }\n\n  /**\n   * Adds an event listener to the reference and stores it in `listeners`\n   */\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | object = false,\n  ): void {\n    instance.reference.addEventListener(eventType, handler, options)\n    listeners.push({ eventType, handler, options })\n  }\n\n  /**\n   * Adds event listeners to the reference based on the `trigger` prop\n   */\n  function addTriggersToReference(): void {\n    if (instance.props.touchHold && !instance.props.target) {\n      on('touchstart', onTrigger, PASSIVE)\n      on('touchend', onMouseLeave as EventListener, PASSIVE)\n    }\n\n    instance.props.trigger\n      .trim()\n      .split(' ')\n      .forEach(eventType => {\n        if (eventType === 'manual') {\n          return\n        }\n\n        // Non-delegates\n        if (!instance.props.target) {\n          on(eventType, onTrigger)\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseleave', onMouseLeave as EventListener)\n              break\n            case 'focus':\n              on(isIE ? 'focusout' : 'blur', onBlur as EventListener)\n              break\n          }\n        } else {\n          // Delegates\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseover', onDelegateShow)\n              on('mouseout', onDelegateHide)\n              break\n            case 'focus':\n              on('focusin', onDelegateShow)\n              on('focusout', onDelegateHide)\n              break\n            case 'click':\n              on(eventType, onDelegateShow)\n              break\n          }\n        }\n      })\n  }\n\n  /**\n   * Removes event listeners from the reference\n   */\n  function removeTriggersFromReference(): void {\n    listeners.forEach(({ eventType, handler, options }: Listener) => {\n      instance.reference.removeEventListener(eventType, handler, options)\n    })\n    listeners = []\n  }\n\n  /**\n   * Returns inner elements used in show/hide methods\n   */\n  function getInnerElements(): (HTMLDivElement | null)[] {\n    return [\n      instance.popperChildren.tooltip,\n      instance.popperChildren.backdrop,\n      instance.popperChildren.content,\n    ]\n  }\n\n  /* ======================= 🔑 Public methods 🔑 ======================= */\n  /**\n   * Enables the instance to allow it to show or hide\n   */\n  function enable(): void {\n    instance.state.isEnabled = true\n  }\n\n  /**\n   * Disables the instance to disallow it to show or hide\n   */\n  function disable(): void {\n    instance.state.isEnabled = false\n  }\n\n  /**\n   * Clears pending timeouts related to the `delay` prop if any\n   */\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeoutId)\n    clearTimeout(hideTimeoutId)\n    cancelAnimationFrame(animationFrameId)\n  }\n\n  /**\n   * Sets new props for the instance and redraws the tooltip\n   */\n  function set(options: Options): void {\n    // Backwards-compatible after TypeScript change\n    options = options || {}\n\n    validateOptions(options, defaultProps)\n\n    const prevProps = instance.props\n    const nextProps = evaluateProps(instance.reference, {\n      ...instance.props,\n      ...options,\n      ignoreAttributes: true,\n    })\n    nextProps.ignoreAttributes = hasOwnProperty(options, 'ignoreAttributes')\n      ? options.ignoreAttributes || false\n      : prevProps.ignoreAttributes\n    instance.props = nextProps\n\n    if (\n      hasOwnProperty(options, 'trigger') ||\n      hasOwnProperty(options, 'touchHold')\n    ) {\n      removeTriggersFromReference()\n      addTriggersToReference()\n    }\n\n    if (hasOwnProperty(options, 'interactiveDebounce')) {\n      cleanupOldMouseListeners()\n      debouncedOnMouseMove = debounce(\n        onMouseMove,\n        options.interactiveDebounce || 0,\n      )\n    }\n\n    updatePopperElement(instance.popper, prevProps, nextProps)\n    instance.popperChildren = getChildren(instance.popper)\n\n    if (instance.popperInstance) {\n      instance.popperInstance.update()\n\n      if (\n        POPPER_INSTANCE_DEPENDENCIES.some((prop: string) =>\n          hasOwnProperty(options, prop),\n        )\n      ) {\n        instance.popperInstance.destroy()\n        createPopperInstance()\n        if (!instance.state.isVisible) {\n          instance.popperInstance.disableEventListeners()\n        }\n        if (instance.props.followCursor && lastMouseMoveEvent) {\n          positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n        }\n      }\n    }\n  }\n\n  /**\n   * Shortcut for .set({ content: newContent })\n   */\n  function setContent(content: Content): void {\n    set({ content })\n  }\n\n  /**\n   * Shows the tooltip\n   */\n  function show(\n    duration: number = getValue(\n      instance.props.duration,\n      0,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (\n      instance.state.isDestroyed ||\n      !instance.state.isEnabled ||\n      (isUsingTouch && !instance.props.touch)\n    ) {\n      return\n    }\n\n    // Destroy tooltip if the reference element is no longer on the DOM\n    if (\n      !hasOwnProperty(instance.reference, 'isVirtual') &&\n      !document.documentElement.contains(instance.reference)\n    ) {\n      return destroy()\n    }\n\n    // Do not show tooltip if the reference element has a `disabled` attribute\n    if (instance.reference.hasAttribute('disabled')) {\n      return\n    }\n\n    if (instance.props.onShow(instance) === false) {\n      return\n    }\n\n    instance.popper.style.visibility = 'visible'\n    instance.state.isVisible = true\n\n    if (instance.props.interactive) {\n      instance.reference.classList.add('tippy-active')\n    }\n\n    // Prevent a transition if the popper is at the opposite placement\n    applyTransitionDuration(\n      [\n        instance.popper,\n        instance.popperChildren.tooltip,\n        instance.popperChildren.backdrop,\n      ],\n      0,\n    )\n\n    mount(() => {\n      if (!instance.state.isVisible) {\n        return\n      }\n\n      // Arrow will sometimes not be positioned correctly. Force another update\n      if (!hasFollowCursorBehavior()) {\n        instance.popperInstance!.update()\n      }\n\n      applyTransitionDuration([instance.popper], props.updateDuration)\n      applyTransitionDuration(getInnerElements(), duration)\n\n      if (instance.popperChildren.backdrop) {\n        instance.popperChildren.content.style.transitionDelay =\n          Math.round(duration / 12) + 'ms'\n      }\n\n      if (instance.props.sticky) {\n        makeSticky()\n      }\n\n      setVisibilityState(getInnerElements(), 'visible')\n\n      onTransitionedIn(duration, () => {\n        instance.popperChildren.tooltip.classList.add('tippy-notransition')\n\n        if (instance.props.aria) {\n          instance.reference.setAttribute(\n            `aria-${instance.props.aria}`,\n            instance.popper.id,\n          )\n        }\n\n        instance.props.onShown(instance)\n        instance.state.isShown = true\n      })\n    })\n  }\n\n  /**\n   * Hides the tooltip\n   */\n  function hide(\n    duration: number = getValue(\n      instance.props.duration,\n      1,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (instance.state.isDestroyed || !instance.state.isEnabled) {\n      return\n    }\n\n    if (instance.props.onHide(instance) === false) {\n      return\n    }\n\n    instance.popperChildren.tooltip.classList.remove('tippy-notransition')\n\n    if (instance.props.interactive) {\n      instance.reference.classList.remove('tippy-active')\n    }\n\n    instance.popper.style.visibility = 'hidden'\n    instance.state.isVisible = false\n    instance.state.isShown = false\n\n    applyTransitionDuration(getInnerElements(), duration)\n\n    setVisibilityState(getInnerElements(), 'hidden')\n\n    onTransitionedOut(duration, () => {\n      if (!isScheduledToShow) {\n        removeFollowCursorListener()\n      }\n\n      if (instance.props.aria) {\n        instance.reference.removeAttribute(`aria-${instance.props.aria}`)\n      }\n\n      instance.popperInstance!.disableEventListeners()\n      instance.popperInstance!.options.placement = instance.props.placement\n\n      parentNode.removeChild(instance.popper)\n      instance.props.onHidden(instance)\n      instance.state.isMounted = false\n    })\n  }\n\n  /**\n   * Destroys the tooltip\n   */\n  function destroy(destroyTargetInstances?: boolean): void {\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    // If the popper is currently mounted to the DOM, we want to ensure it gets\n    // hidden and unmounted instantly upon destruction\n    if (instance.state.isMounted) {\n      hide(0)\n    }\n\n    removeTriggersFromReference()\n\n    delete instance.reference._tippy\n\n    if (instance.props.target && destroyTargetInstances) {\n      arrayFrom(\n        instance.reference.querySelectorAll(instance.props.target),\n      ).forEach((child: ReferenceElement) => {\n        if (child._tippy) {\n          child._tippy.destroy()\n        }\n      })\n    }\n\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy()\n    }\n\n    instance.state.isDestroyed = true\n  }\n}\n","import { version } from '../package.json'\nimport { isBrowser } from './browser'\nimport { defaultProps } from './props'\nimport createTippy from './createTippy'\nimport bindGlobalEventListeners from './bindGlobalEventListeners'\nimport group from './group'\nimport { polyfillElementPrototypeProperties } from './reference'\nimport { arrayFrom } from './ponyfills'\nimport { hideAll } from './popper'\nimport {\n  isSingular,\n  isBareVirtualElement,\n  getArrayOfElements,\n  validateOptions,\n} from './utils'\nimport { Options, Props, Instance, Targets, VirtualReference } from './types'\n\nlet globalEventListenersBound = false\n\n/**\n * Exported module\n */\nfunction tippy(targets: Targets, options?: Options): Instance | Instance[] {\n  validateOptions(options || {}, defaultProps)\n\n  if (!globalEventListenersBound) {\n    bindGlobalEventListeners()\n    globalEventListenersBound = true\n  }\n\n  const props: Props = { ...defaultProps, ...options }\n\n  // If they are specifying a virtual positioning reference, we need to polyfill\n  // some native DOM props\n  if (isBareVirtualElement(targets)) {\n    polyfillElementPrototypeProperties(targets as VirtualReference)\n  }\n\n  const instances = getArrayOfElements(targets).reduce<Instance[]>(\n    (acc, reference) => {\n      const instance = reference && createTippy(reference, props)\n      if (instance) {\n        acc.push(instance)\n      }\n      return acc\n    },\n    [],\n  )\n\n  return isSingular(targets) ? instances[0] : instances\n}\n\n/**\n * Static props\n */\ntippy.version = version\ntippy.defaults = defaultProps\n\n/**\n * Static methods\n */\ntippy.setDefaults = (partialDefaults: Options) => {\n  Object.keys(partialDefaults).forEach(key => {\n    // @ts-ignore\n    defaultProps[key] = partialDefaults[key]\n  })\n}\ntippy.hideAll = hideAll\ntippy.group = group\n\n/**\n * Auto-init tooltips for elements with a `data-tippy=\"...\"` attribute\n */\nexport function autoInit(): void {\n  arrayFrom(document.querySelectorAll('[data-tippy]')).forEach(el => {\n    const content = el.getAttribute('data-tippy')\n    if (content) {\n      tippy(el, { content })\n    }\n  })\n}\nif (isBrowser) {\n  setTimeout(autoInit)\n}\n\nexport default tippy\n","import { GroupedInstance, GroupOptions } from './types'\nimport { hasOwnProperty } from './utils'\n\n/**\n * Groups an array of instances by taking control of their props during\n * certain lifecycles.\n */\nexport default function group(\n  instances: GroupedInstance[],\n  { delay = instances[0].props.delay, duration = 0 }: GroupOptions = {},\n): void {\n  // Already grouped. Cannot group instances more than once (yet) or stale lifecycle\n  // closures will be invoked, causing a stack overflow\n  if (instances.some(instance => hasOwnProperty(instance, '_originalProps'))) {\n    return\n  }\n\n  let isAnyTippyOpen = false\n\n  instances.forEach(instance => {\n    instance._originalProps = { ...instance.props }\n  })\n\n  function setIsAnyTippyOpen(value: boolean): void {\n    isAnyTippyOpen = value\n    updateInstances()\n  }\n\n  function onShow(instance: GroupedInstance): void {\n    instance._originalProps.onShow(instance)\n    instances.forEach(instance => {\n      instance.set({ duration })\n      instance.hide()\n    })\n    setIsAnyTippyOpen(true)\n  }\n\n  function onHide(instance: GroupedInstance): void {\n    instance._originalProps.onHide(instance)\n    setIsAnyTippyOpen(false)\n  }\n\n  function onShown(instance: GroupedInstance): void {\n    instance._originalProps.onShown(instance)\n    instance.set({ duration: instance._originalProps.duration })\n  }\n\n  function updateInstances(): void {\n    instances.forEach(instance => {\n      instance.set({\n        onShow,\n        onShown,\n        onHide,\n        delay: isAnyTippyOpen\n          ? [0, Array.isArray(delay) ? delay[1] : delay]\n          : delay,\n        duration: isAnyTippyOpen ? duration : instance._originalProps.duration,\n      })\n    })\n  }\n\n  updateInstances()\n}\n","import { isBrowser } from './browser'\n\n/**\n * Injects a string of CSS styles to a style node in <head>\n */\nexport function injectCSS(css: string): void {\n  if (isBrowser) {\n    const style = document.createElement('style')\n    style.type = 'text/css'\n    style.textContent = css\n    const head = document.head\n    const { firstChild } = head\n    if (firstChild) {\n      head.insertBefore(style, firstChild)\n    } else {\n      head.appendChild(style)\n    }\n  }\n}\n","import css from '../index.css'\nimport tippy from '../src/index.ts'\nimport { injectCSS } from '../src/css'\n\ninjectCSS(css)\n\nexport default tippy\n"],"names":["isBrowser","window","document","ua","navigator","userAgent","isIE","test","isUCBrowser","isIOS","platform","MSStream","defaultProps","a11y","allowHTML","animateFill","animation","appendTo","body","aria","arrow","arrowType","boundary","content","delay","distance","duration","flip","flipBehavior","flipOnUpdate","followCursor","hideOnClick","ignoreAttributes","inertia","interactive","interactiveBorder","interactiveDebounce","lazy","maxWidth","multiple","offset","onHidden","onHide","onMount","onShow","onShown","placement","popperOptions","role","showOnInit","size","sticky","target","theme","touch","touchHold","trigger","updateDuration","wait","zIndex","POPPER_INSTANCE_DEPENDENCIES","POPPER","TOOLTIP","CONTENT","BACKDROP","ARROW","ROUND_ARROW","elementProto","Element","prototype","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","arrayFrom","value","slice","call","closest","element","parentSelector","selector","el","this","parentElement","closestCallback","callback","PASSIVE","passive","PADDING","keys","Object","hasOwnProperty","obj","key","getValue","index","defaultValue","Array","isArray","v","debounce","fn","ms","timeoutId","clearTimeout","setTimeout","apply","_this","arguments","getModifier","modifiers","includes","a","b","indexOf","isSingular","evaluateValue","args","setFlipModifierEnabled","filter","m","name","enabled","div","createElement","evaluateProps","reference","props","out","reduce","acc","valueAsString","getAttribute","trim","JSON","parse","e","getDataAttributeOptions","validateOptions","options","forEach","option","Error","setInnerHTML","html","setContent","contentEl","appendChild","getChildren","popper","tooltip","querySelector","Selectors","backdrop","addInertia","setAttribute","createArrowElement","className","createBackdropElement","addInteractive","applyTransitionDuration","els","style","transitionDuration","toggleTransitionEndListener","action","listener","eventName","undefined","webkitTransition","getPopperPlacement","fullPlacement","split","setVisibilityState","state","toggleTheme","themeName","classList","hideAll","checkHideOnClick","exclude","querySelectorAll","instance","_tippy","hide","isUsingTouch","onDocumentTouch","add","performance","addEventListener","onDocumentMouseMove","lastMouseMoveTime","now","removeEventListener","remove","onDocumentClick","event","isClickTrigger","clearDelayTimeouts","onWindowBlur","activeElement","blur","idCounter","createTippy","collectionProps","lastTriggerEventType","lastMouseMoveEvent","showTimeoutId","hideTimeoutId","animationFrameId","transitionEndListener","parentNode","isScheduledToShow","listeners","debouncedOnMouseMove","onMouseMove","id","createPopperElement","popperChildren","popperInstance","isEnabled","isVisible","isDestroyed","isMounted","isShown","set","show","enable","disable","destroy","addTriggersToReference","createPopperInstance","disableEventListeners","scheduleShow","hasAttribute","positionVirtualReferenceNearCursor","clientX","clientY","padding","isVerticalPlacement","isHorizontalPlacement","x","Math","max","y","min","innerWidth","innerHeight","rect","getBoundingClientRect","isHorizontal","isVertical","width","height","top","bottom","left","right","clientWidth","clientHeight","scheduleUpdate","removeFollowCursorListener","targetEl","createDelegateChildTippy","hasFollowCursorBehavior","scheduleHide","requestAnimationFrame","cleanupOldMouseListeners","onTrigger","isEventListenerStopped","type","MouseEvent","referenceTheCursorIsOver","isCursorOverPopper","isCursorOverReference","popperPlacement","popperRect","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","onMouseLeave","onBlur","relatedTarget","contains","onDelegateShow","onDelegateHide","supportsTouch","isTouchEvent","preventOverflowModifier","applyMutations","data","flipped","basePlacement","styles","isPaddingNumber","computedPadding","config","preventOverflow","boundariesElement","behavior","onCreate","onUpdate","Popper","onTransitionEnd","on","eventType","handler","push","removeTriggersFromReference","getInnerElements","cancelAnimationFrame","prevProps","nextProps","removeAttribute","removeChild","replaceChild","removeInteractive","removeInertia","updatePopperElement","update","some","prop","documentElement","visibility","shouldEnableListeners","enableEventListeners","margin","offsetHeight","reflow","afterPopperPositionUpdates","mount","transitionDelay","round","updatePosition","onTransitionedIn","onTransitionedOut","destroyTargetInstances","child","globalEventListenersBound","tippy","targets","toString","virtualReference","polyfills","isVirtual","attributes","classNames","polyfillElementPrototypeProperties","instances","NodeList","getArrayOfElements","version","defaults","setDefaults","partialDefaults","group","isAnyTippyOpen","_originalProps","updateInstances","setIsAnyTippyOpen","css","textContent","head","firstChild","insertBefore","injectCSS"],"mappings":"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"}